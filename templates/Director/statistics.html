{% extends 'base.html' %}
{% load static %}

{% block content %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="{% static 'js/statistics.js' %}"></script>
<h1>Statystyki firmy</h1>

<!-- Styles -->
<style>
    /* General Styles */
    h1 {
        text-align: center;
        margin-bottom: 20px;
        font-family: 'Arial', sans-serif;
    }

    /* Chart Grid */
    .chart-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        margin: 20px;
    }

    /* Chart Containers */
    .chart-container {
        position: relative;
        height: 400px;
        width: 100%;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    /* Unique Styles for Each Chart */
    .ongoing-projects {
        background-color: #f2f2f2;
    }

    .user-projects {
        background-color: #e6f7ff;
    }

    .project-files {
        background-color: #fff0e6;
    }

    .investor-projects {
        background-color: #e6ffe6;
    }

    /* Investor List */
    #investorProjectsList {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        background-color: #f9f9f9;
        border-radius: 5px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        margin-top: 10px;
        padding: 0;
    }

    #investorProjectsList.show {
        max-height: 300px;
    }

    /* List Items */
    #investorProjectsList li {
        padding: 10px;
        border-bottom: 1px solid #ddd;
    }

    #investorProjectsList li:last-child {
        border-bottom: none;
    }

    /* Toggle Button */
    #toggleInvestorList {
        background-color: #007bff;
        color: white;
        border: none;
        padding: 10px 20px;
        cursor: pointer;
        border-radius: 5px;
        margin-top: 10px;
        transition: background-color 0.3s ease;
    }

    #toggleInvestorList:hover {
        background-color: #0056b3;
    }
</style>

<!-- Grid Layout for Charts -->
<div class="chart-grid">
    <!-- Ongoing Projects Over Time -->
    <div class="chart-container ongoing-projects">
        <canvas id="ongoingProjectsChart"></canvas>
    </div>

    <!-- Ongoing Projects for Specific User -->
    <div class="chart-container user-projects">
        <canvas id="userProjectsChart"></canvas>
    </div>

    <!-- Files for Each Project -->
    <div class="chart-container project-files">
        <canvas id="projectFilesChart"></canvas>
    </div>

    <!-- Projects for Each Investor -->
    <div class="chart-container investor-projects">
        <ul id="investorProjectsList">
            <!-- List items will be populated here -->
        </ul>
        <button id="toggleInvestorList">Otwórz listę inwestorów</button>
    </div>
</div>

{% endblock %}
